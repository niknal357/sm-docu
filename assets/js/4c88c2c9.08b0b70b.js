"use strict";(self.webpackChunksm_docs=self.webpackChunksm_docs||[]).push([[7236],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>k});var l=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,l,a=function(e,t){if(null==e)return{};var n,l,a={},r=Object.keys(e);for(l=0;l<r.length;l++)n=r[l],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(l=0;l<r.length;l++)n=r[l],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var i=l.createContext({}),u=function(e){var t=l.useContext(i),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},c=function(e){var t=u(e.components);return l.createElement(i.Provider,{value:t},e.children)},m="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return l.createElement(l.Fragment,{},t)}},d=l.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,i=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),m=u(n),d=a,k=m["".concat(i,".").concat(d)]||m[d]||p[d]||r;return n?l.createElement(k,s(s({ref:t},c),{},{components:n})):l.createElement(k,s({ref:t},c))}));function k(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,s=new Array(r);s[0]=d;var o={};for(var i in t)hasOwnProperty.call(t,i)&&(o[i]=t[i]);o.originalType=e,o[m]="string"==typeof e?e:a,s[1]=o;for(var u=2;u<r;u++)s[u]=n[u];return l.createElement.apply(null,s)}return l.createElement.apply(null,n)}d.displayName="MDXCreateElement"},7725:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>i,contentTitle:()=>s,default:()=>p,frontMatter:()=>r,metadata:()=>o,toc:()=>u});var l=n(7462),a=(n(7294),n(3905));const r={sidebar_position:8,title:"GameClass",hide_title:!0,"sidebar-label":"GameClass"},s=void 0,o={unversionedId:"Game-Script-Environment/Classes/GameClass",id:"Game-Script-Environment/Classes/GameClass",title:"GameClass",description:"GameClass",source:"@site/docs/Game-Script-Environment/Classes/GameClass.md",sourceDirName:"Game-Script-Environment/Classes",slug:"/Game-Script-Environment/Classes/GameClass",permalink:"/docs/Game-Script-Environment/Classes/GameClass",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Game-Script-Environment/Classes/GameClass.md",tags:[],version:"current",sidebarPosition:8,frontMatter:{sidebar_position:8,title:"GameClass",hide_title:!0,"sidebar-label":"GameClass"},sidebar:"tutorialSidebar",previous:{title:"HarvestableClass",permalink:"/docs/Game-Script-Environment/Classes/HarvestableClass"},next:{title:"WorldClass",permalink:"/docs/Game-Script-Environment/Classes/WorldClass"}},i={},u=[{value:"GameClass",id:"gameclass",level:3},{value:"Server-only",id:"server-only",level:2},{value:"onPlayerJoined",id:"onplayerjoined",level:3},{value:"onPlayerLeft",id:"onplayerleft",level:3},{value:"onReset",id:"onreset",level:3},{value:"onRestart",id:"onrestart",level:3},{value:"onSaveLevel",id:"onsavelevel",level:3},{value:"onTestLevel",id:"ontestlevel",level:3},{value:"onStopTest",id:"onstoptest",level:3},{value:"Client-only",id:"client-only",level:2},{value:"onLoadingScreenLifted",id:"onloadingscreenlifted",level:3},{value:"onLanguageChange",id:"onlanguagechange",level:3}],c={toc:u},m="wrapper";function p(e){let{components:t,...n}=e;return(0,a.kt)(m,(0,l.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("br",null),(0,a.kt)("h3",{id:"gameclass"},"GameClass"),(0,a.kt)("p",null,"A script class that defines the game mode. Only one instance of this class is made."),(0,a.kt)("p",null,"This is the first script that will be run."),(0,a.kt)("p",null,"The game script is responsible for creating and managing ",(0,a.kt)("a",{parentName:"p",href:"/docs/Game-Script-Environment/Userdata/World"},"Worlds"),"."),(0,a.kt)("p",null,"The class can receive events sent with ",(0,a.kt)("a",{parentName:"p",href:"/docs/Game-Script-Environment/Static-Functions/sm.event#sendtogame"},"sm.event.sendToGame"),"."),(0,a.kt)("p",null,"The fields below are accessed using ",(0,a.kt)("code",null,"self.fieldName")," in the GameClass script:"),(0,a.kt)("strong",null,"Fields:"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"Type"),(0,a.kt)("th",{parentName:"tr",align:null},"Name"),(0,a.kt)("th",{parentName:"tr",align:null},"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("a",{parentName:"td",href:"/docs/Game-Script-Environment/Userdata/Network"},"Network")),(0,a.kt)("td",{parentName:"tr",align:null},"network"),(0,a.kt)("td",{parentName:"tr",align:null},"A ",(0,a.kt)("a",{parentName:"td",href:"/docs/Game-Script-Environment/Userdata/Network"},"Network")," object that can be used to send data between client and server.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("a",{parentName:"td",href:"/docs/Game-Script-Environment/Userdata/Storage"},"Storage")),(0,a.kt)("td",{parentName:"tr",align:null},"storage"),(0,a.kt)("td",{parentName:"tr",align:null},"A server-side ",(0,a.kt)("a",{parentName:"td",href:"/docs/Game-Script-Environment/Userdata/Storage"},"Storage")," object that can be used to save and load data to/from the world database.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"any"),(0,a.kt)("td",{parentName:"tr",align:null},"data"),(0,a.kt)("td",{parentName:"tr",align:null},"Game start data.")))),(0,a.kt)("strong",null,"Constants:")," ",(0,a.kt)("br",null),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"/docs/Game-Script-Environment/Constants#gameclass"},"defaultInventorySize")," ",(0,a.kt)("br",null),"\n",(0,a.kt)("a",{parentName:"p",href:"/docs/Game-Script-Environment/Constants#gameclass"},"enableAggro")," ",(0,a.kt)("br",null),"\n",(0,a.kt)("a",{parentName:"p",href:"/docs/Game-Script-Environment/Constants#gameclass"},"enableAmmoConsumption")," ",(0,a.kt)("br",null),"\n",(0,a.kt)("a",{parentName:"p",href:"/docs/Game-Script-Environment/Constants#gameclass"},"enableFuelConsumption")," ",(0,a.kt)("br",null),"\n",(0,a.kt)("a",{parentName:"p",href:"/docs/Game-Script-Environment/Constants#gameclass"},"enableLimitedInventory")," ",(0,a.kt)("br",null),"\n",(0,a.kt)("a",{parentName:"p",href:"/docs/Game-Script-Environment/Constants#gameclass"},"enableRestrictions")," ",(0,a.kt)("br",null),"\n",(0,a.kt)("a",{parentName:"p",href:"/docs/Game-Script-Environment/Constants#gameclass"},"enableUpgrade")," ",(0,a.kt)("br",null)),(0,a.kt)("strong",null,"Callbacks:")," ",(0,a.kt)("br",null),(0,a.kt)("h2",{id:"server-only"},"Server-only"),(0,a.kt)("h3",{id:"onplayerjoined"},"onPlayerJoined"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-lua"},"function GameClass.server_onPlayerJoined( self, player, newPlayer )\nend\n")),(0,a.kt)("p",null,"Called when a ",(0,a.kt)("a",{parentName:"p",href:"/docs/Game-Script-Environment/Userdata/Player"},"Player")," joins the game. ",(0,a.kt)("br",null)),(0,a.kt)("strong",null,"Arguments:")," ",(0,a.kt)("br",null),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("code",null,"self")," [",(0,a.kt)("strong",null," table "),"]: The class instance."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("code",null,"player")," [",(0,a.kt)("strong",null," player "),"]: The joining player."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("code",null,"newPlayer")," [",(0,a.kt)("strong",null," bool "),"]: True if the player has not been in this game before.")),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"onplayerleft"},"onPlayerLeft"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-lua"},"function GameClass.server_onPlayerLeft( self, player )\nend\n")),(0,a.kt)("p",null,"Called when a ",(0,a.kt)("a",{parentName:"p",href:"/docs/Game-Script-Environment/Userdata/Player"},"Player")," leaves the game. ",(0,a.kt)("br",null)),(0,a.kt)("strong",null,"Arguments:")," ",(0,a.kt)("br",null),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("code",null,"self")," [",(0,a.kt)("strong",null," table "),"]: The class instance."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("code",null,"player")," [",(0,a.kt)("strong",null," player "),"]: The leaving player.")),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"onreset"},"onReset"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-lua"},"function GameClass.server_onReset( self )\nend\n")),(0,a.kt)("p",null,"Called when the user wants to reset the challenge level."),(0,a.kt)("admonition",{title:"note",type:"info"},(0,a.kt)("p",{parentName:"admonition"},"Only works in Challenge Mode!")),(0,a.kt)("strong",null,"Arguments:")," ",(0,a.kt)("br",null),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("code",null,"self")," [",(0,a.kt)("strong",null," table "),"]: The class instance.")),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"onrestart"},"onRestart"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-lua"},"function GameClass.server_onRestart( self )\nend\n")),(0,a.kt)("p",null,"Called when the user wants to restart the challenge level."),(0,a.kt)("admonition",{title:"note",type:"info"},(0,a.kt)("p",{parentName:"admonition"},"Only works in Challenge Mode!")),(0,a.kt)("strong",null,"Arguments:")," ",(0,a.kt)("br",null),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("code",null,"self")," [",(0,a.kt)("strong",null," table "),"]: The class instance.")),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"onsavelevel"},"onSaveLevel"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-lua"},"function GameClass.server_onSaveLevel( self )\nend\n")),(0,a.kt)("p",null,"Called when the user wants to save the challenge level."),(0,a.kt)("admonition",{title:"note",type:"info"},(0,a.kt)("p",{parentName:"admonition"},"Only works in the Challenge Builder!")),(0,a.kt)("strong",null,"Arguments:")," ",(0,a.kt)("br",null),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("code",null,"self")," [",(0,a.kt)("strong",null," table "),"]: The class instance.")),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"ontestlevel"},"onTestLevel"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-lua"},"function GameClass.server_onTestLevel( self )\nend\n")),(0,a.kt)("p",null,"Called when the user wants to save and test the challenge level."),(0,a.kt)("admonition",{title:"note",type:"info"},(0,a.kt)("p",{parentName:"admonition"},"Only works in the Challenge Builder!")),(0,a.kt)("strong",null,"Arguments:")," ",(0,a.kt)("br",null),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("code",null,"self")," [",(0,a.kt)("strong",null," table "),"]: The class instance.")),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"onstoptest"},"onStopTest"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-lua"},"function GameClass.server_onStopTest( self )\nend\n")),(0,a.kt)("p",null,"Called when the user wants to stop testing the challenge level."),(0,a.kt)("admonition",{title:"note",type:"info"},(0,a.kt)("p",{parentName:"admonition"},"Only works in the Challenge Builder!")),(0,a.kt)("strong",null,"Arguments:")," ",(0,a.kt)("br",null),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("code",null,"self")," [",(0,a.kt)("strong",null," table "),"]: The class instance.")),(0,a.kt)("hr",null),(0,a.kt)("h2",{id:"client-only"},"Client-only"),(0,a.kt)("h3",{id:"onloadingscreenlifted"},"onLoadingScreenLifted"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-lua"},"function GameClass.client_onLoadingScreenLifted( self )\nend\n")),(0,a.kt)("p",null,"Called when the loading screen is lifted when entering a game."),(0,a.kt)("strong",null,"Arguments:")," ",(0,a.kt)("br",null),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("code",null,"self")," [",(0,a.kt)("strong",null," table "),"]: The class instance.")),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"onlanguagechange"},"onLanguageChange"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-lua"},"function GameClass.client_onLanguageChange( self, language )\nend\n")),(0,a.kt)("p",null,"Called when the user changes the language in the in-game menu."),(0,a.kt)("p",null,"Valid languages are:"),(0,a.kt)("code",null,"Brazilian"),", ",(0,a.kt)("code",null,"Chinese"),", ",(0,a.kt)("code",null,"English"),", ",(0,a.kt)("code",null,"French")," ",(0,a.kt)("br",null),(0,a.kt)("code",null,"German"),", ",(0,a.kt)("code",null,"Italian"),", ",(0,a.kt)("code",null,"Japanese"),", ",(0,a.kt)("code",null,"Korean")," ",(0,a.kt)("br",null),(0,a.kt)("code",null,"Polish"),", ",(0,a.kt)("code",null,"Russian"),", ",(0,a.kt)("code",null,"Spanish")," ",(0,a.kt)("br",null),(0,a.kt)("strong",null,"Arguments:")," ",(0,a.kt)("br",null),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("code",null,"self")," [",(0,a.kt)("strong",null," table "),"]: The class instance."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("code",null,"language")," [",(0,a.kt)("strong",null," string "),"]: The new language.")),(0,a.kt)("hr",null))}p.isMDXComponent=!0}}]);