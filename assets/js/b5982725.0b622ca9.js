"use strict";(self.webpackChunksm_docs=self.webpackChunksm_docs||[]).push([[8057],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>k});var l=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,l,a=function(e,t){if(null==e)return{};var n,l,a={},r=Object.keys(e);for(l=0;l<r.length;l++)n=r[l],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(l=0;l<r.length;l++)n=r[l],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=l.createContext({}),s=function(e){var t=l.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=s(e.components);return l.createElement(c.Provider,{value:t},e.children)},f="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return l.createElement(l.Fragment,{},t)}},m=l.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,c=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),f=s(n),m=a,k=f["".concat(c,".").concat(m)]||f[m]||p[m]||r;return n?l.createElement(k,o(o({ref:t},u),{},{components:n})):l.createElement(k,o({ref:t},u))}));function k(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,o=new Array(r);o[0]=m;var i={};for(var c in t)hasOwnProperty.call(t,c)&&(i[c]=t[c]);i.originalType=e,i[f]="string"==typeof e?e:a,o[1]=i;for(var s=2;s<r;s++)o[s]=n[s];return l.createElement.apply(null,o)}return l.createElement.apply(null,n)}m.displayName="MDXCreateElement"},7232:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>p,frontMatter:()=>r,metadata:()=>i,toc:()=>s});var l=n(7462),a=(n(7294),n(3905));const r={sidebar_position:19,title:"sm.effect",hide_title:!0,"sidebar-label":"sm.effect"},o=void 0,i={unversionedId:"Game-Script-Environment/Static-Functions/sm.effect",id:"Game-Script-Environment/Static-Functions/sm.effect",title:"sm.effect",description:"sm.effect",source:"@site/docs/Game-Script-Environment/Static-Functions/sm.effect.md",sourceDirName:"Game-Script-Environment/Static-Functions",slug:"/Game-Script-Environment/Static-Functions/sm.effect",permalink:"/docs/Game-Script-Environment/Static-Functions/sm.effect",draft:!1,tags:[],version:"current",sidebarPosition:19,frontMatter:{sidebar_position:19,title:"sm.effect",hide_title:!0,"sidebar-label":"sm.effect"},sidebar:"tutorialSidebar",previous:{title:"sm.debugDraw",permalink:"/docs/Game-Script-Environment/Static-Functions/sm.debugDraw"},next:{title:"sm.event",permalink:"/docs/Game-Script-Environment/Static-Functions/sm.event"}},c={},s=[{value:"sm.effect",id:"smeffect",level:2},{value:"Functions",id:"functions",level:2},{value:"createEffect",id:"createeffect",level:3},{value:"createEffect2D",id:"createeffect2d",level:3},{value:"estimateSize",id:"estimatesize",level:3},{value:"playEffect",id:"playeffect",level:3},{value:"playHostedEffect",id:"playhostedeffect",level:3}],u={toc:s},f="wrapper";function p(e){let{components:t,...n}=e;return(0,a.kt)(f,(0,l.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("br",null),(0,a.kt)("h2",{id:"smeffect"},"sm.effect"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Associated object type:")," ",(0,a.kt)("a",{parentName:"p",href:"/docs/Game-Script-Environment/Userdata/Effect"},"Effect")),(0,a.kt)("p",null,"The ",(0,a.kt)("strong",null,"effect")," api handles the creation and playing of audio and visual effects."),(0,a.kt)("p",null,"Effects can consist of multiple components each being of separate types and with unique offsets, rotations and delays."),(0,a.kt)("p",null,"For more information on how to setup effects please take a look in the Effects/Database/EffectSets folder in the game data."),(0,a.kt)("h2",{id:"functions"},"Functions"),(0,a.kt)("h3",{id:"createeffect"},"createEffect"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-lua"},"sm.effect.createEffect( name, host, bone )\n")),(0,a.kt)("code",null,"Client-Only")," ",(0,a.kt)("br",null),(0,a.kt)("p",null,"Creates an effect."),(0,a.kt)("p",null,"If you provide a host object to the effect then it will fetch position, ",(0,a.kt)("br",null),"\nvelocity and orientation data from the object instead of relying on this information being fed to it."),(0,a.kt)("p",null,"This results in far more accurate positioning of effects that are supposed to stay attached to an object."),(0,a.kt)("strong",null,"Arguments:")," ",(0,a.kt)("br",null),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("code",null,"name")," [",(0,a.kt)("strong",null," string "),"]: The effect name."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("code",null,"host")," [",(0,a.kt)("strong",null," interactable/harvestable/character/nil "),"]: The object that the effect is attached to."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("code",null,"bone")," [",(0,a.kt)("strong",null," string "),"]: The bone name, if attaching to an interactable or character. Defaults to none.")),(0,a.kt)("strong",null,"Returns:")," ",(0,a.kt)("br",null),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"[",(0,a.kt)("strong",null," effect "),"]",": The created effect.")),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"createeffect2d"},"createEffect2D"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-lua"},"sm.effect.createEffect2D( name )\n")),(0,a.kt)("code",null,"Client-Only")," ",(0,a.kt)("br",null),(0,a.kt)("p",null,"Creates a 2D effect."),(0,a.kt)("strong",null,"Arguments:")," ",(0,a.kt)("br",null),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("code",null,"name")," [",(0,a.kt)("strong",null," string "),"]: The effect name.")),(0,a.kt)("strong",null,"Returns:")," ",(0,a.kt)("br",null),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"[",(0,a.kt)("strong",null," effect "),"]",": The created effect.")),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"estimatesize"},"estimateSize"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-lua"},"sm.effect.estimateSize( name, params )\n")),(0,a.kt)("code",null,"Client-Only")," ",(0,a.kt)("br",null),(0,a.kt)("p",null,"Estimates the radius of influence for an effect and instance parameters."),(0,a.kt)("strong",null,"Arguments:")," ",(0,a.kt)("br",null),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("code",null,"name")," [",(0,a.kt)("strong",null," string "),"]: The effect name."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("code",null,"params")," [",(0,a.kt)("strong",null," table "),"]: The parameters.")),(0,a.kt)("strong",null,"Returns:")," ",(0,a.kt)("br",null),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"[",(0,a.kt)("strong",null," number "),"]",": The range.")),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"playeffect"},"playEffect"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-lua"},"sm.effect.playEffect( name, position, velocity, rotation, scale, parameters )\n")),(0,a.kt)("p",null,"Plays an effect. If this function is called on the server it will play the effect on all clients."),(0,a.kt)("admonition",{title:"note",type:"info"},(0,a.kt)("p",{parentName:"admonition"},"If you start a looping effect using this function you will not be able to stop it. ",(0,a.kt)("br",null),"\nPlease use ",(0,a.kt)("a",{parentName:"p",href:"#createeffect"},"createEffect")," for looping effects.")),(0,a.kt)("strong",null,"Arguments:")," ",(0,a.kt)("br",null),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("code",null,"name")," [",(0,a.kt)("strong",null," string "),"]: The effect name."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("code",null,"position")," [",(0,a.kt)("strong",null," vec3 "),"]: The position."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("code",null,"velocity")," [",(0,a.kt)("strong",null," vec3 "),"]: The velocity. Defaults to none."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("code",null,"rotation")," [",(0,a.kt)("strong",null," quat "),"]: The rotation. Defaults to none."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("code",null,"scale")," [",(0,a.kt)("strong",null," vec3 "),"]: The scale, if using a renderable. Defaults to none."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("code",null,"parameters")," [",(0,a.kt)("strong",null," table "),"]: The table containing effect parameters. Defaults to none.")),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"playhostedeffect"},"playHostedEffect"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-lua"},"sm.effect.playHostedEffect( name, host, boneName, parameters )\n")),(0,a.kt)("code",null,"Client-Only")," ",(0,a.kt)("br",null),(0,a.kt)("p",null,"Plays an effect. ",(0,a.kt)("br",null),"\nIt will fetch position, velocity and orientation data from the host object."),(0,a.kt)("admonition",{title:"note",type:"info"},(0,a.kt)("p",{parentName:"admonition"},"If you start a looping effect using this function you will not be able to stop it. ",(0,a.kt)("br",null),"\nPlease use ",(0,a.kt)("a",{parentName:"p",href:"#createeffect"},"createEffect")," for looping effects.")),(0,a.kt)("strong",null,"Arguments:")," ",(0,a.kt)("br",null),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("code",null,"name")," [",(0,a.kt)("strong",null," string "),"]: The effect name."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("code",null,"host")," [",(0,a.kt)("strong",null," interactable/harvestable/character "),"]: The object that the effect is attached to."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("code",null,"bone")," [",(0,a.kt)("strong",null," string "),"]: The bone name, if attaching to an interactable or character. Defaults to none."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("code",null,"parameters")," [",(0,a.kt)("strong",null," table "),"]: The table containing effect parameters. Defaults to none.")),(0,a.kt)("hr",null))}p.isMDXComponent=!0}}]);