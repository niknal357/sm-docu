"use strict";(self.webpackChunksm_docs=self.webpackChunksm_docs||[]).push([[2577],{3905:(e,t,l)=>{l.d(t,{Zo:()=>s,kt:()=>m});var n=l(7294);function r(e,t,l){return t in e?Object.defineProperty(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[t]=l,e}function a(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),l.push.apply(l,n)}return l}function o(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{};t%2?a(Object(l),!0).forEach((function(t){r(e,t,l[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):a(Object(l)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(l,t))}))}return e}function i(e,t){if(null==e)return{};var l,n,r=function(e,t){if(null==e)return{};var l,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)l=a[n],t.indexOf(l)>=0||(r[l]=e[l]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)l=a[n],t.indexOf(l)>=0||Object.prototype.propertyIsEnumerable.call(e,l)&&(r[l]=e[l])}return r}var u=n.createContext({}),d=function(e){var t=n.useContext(u),l=t;return e&&(l="function"==typeof e?e(t):o(o({},t),e)),l},s=function(e){var t=d(e.components);return n.createElement(u.Provider,{value:t},e.children)},c="mdxType",k={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},p=n.forwardRef((function(e,t){var l=e.components,r=e.mdxType,a=e.originalType,u=e.parentName,s=i(e,["components","mdxType","originalType","parentName"]),c=d(l),p=r,m=c["".concat(u,".").concat(p)]||c[p]||k[p]||a;return l?n.createElement(m,o(o({ref:t},s),{},{components:l})):n.createElement(m,o({ref:t},s))}));function m(e,t){var l=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=l.length,o=new Array(a);o[0]=p;var i={};for(var u in t)hasOwnProperty.call(t,u)&&(i[u]=t[u]);i.originalType=e,i[c]="string"==typeof e?e:r,o[1]=i;for(var d=2;d<a;d++)o[d]=l[d];return n.createElement.apply(null,o)}return n.createElement.apply(null,l)}p.displayName="MDXCreateElement"},4059:(e,t,l)=>{l.r(t),l.d(t,{assets:()=>u,contentTitle:()=>o,default:()=>k,frontMatter:()=>a,metadata:()=>i,toc:()=>d});var n=l(7462),r=(l(7294),l(3905));const a={sidebar_position:31,title:"World",hide_title:!0,"sidebar-label":"World"},o=void 0,i={unversionedId:"Game-Script-Environment/Userdata/World",id:"Game-Script-Environment/Userdata/World",title:"World",description:"World",source:"@site/docs/Game-Script-Environment/Userdata/World.md",sourceDirName:"Game-Script-Environment/Userdata",slug:"/Game-Script-Environment/Userdata/World",permalink:"/docs/Game-Script-Environment/Userdata/World",draft:!1,tags:[],version:"current",sidebarPosition:31,frontMatter:{sidebar_position:31,title:"World",hide_title:!0,"sidebar-label":"World"},sidebar:"tutorialSidebar",previous:{title:"Widget",permalink:"/docs/Game-Script-Environment/Userdata/Widget"},next:{title:"Global",permalink:"/docs/Game-Script-Environment/Static-Functions/Global"}},u={},d=[{value:"World",id:"world",level:2},{value:"Functions",id:"functions",level:2},{value:"destroy",id:"destroy",level:3},{value:"getId",id:"getid",level:3},{value:"isIndoor",id:"isindoor",level:3},{value:"loadCell",id:"loadcell",level:3},{value:"reloadCell",id:"reloadcell",level:3},{value:"setTerrainScriptData",id:"setterrainscriptdata",level:3},{value:"terrainSphereModification",id:"terrainspheremodification",level:3}],s={toc:d},c="wrapper";function k(e){let{components:t,...l}=e;return(0,r.kt)(c,(0,n.Z)({},s,l,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("br",null),(0,r.kt)("h2",{id:"world"},"World"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Associated namespace:")," ",(0,r.kt)("a",{parentName:"p",href:"/docs/Game-Script-Environment/Static-Functions/sm.world"},"sm.world")),(0,r.kt)("p",null,"A userdata object representing a ",(0,r.kt)("strong",null,"world")," in the game."),(0,r.kt)("strong",null,"Operations:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Operation"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("code",null,"World")," == ",(0,r.kt)("code",null,"World")),(0,r.kt)("td",{parentName:"tr",align:null},"Checks if two instances of ",(0,r.kt)("code",null,"World")," refer to the same ",(0,r.kt)("code",null,"World"),".")))),(0,r.kt)("strong",null,"Values:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("code",null,"id")," [",(0,r.kt)("strong",null," int "),"] ",(0,r.kt)("br",null),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("code",null,"Get"),": The world's id.")))),(0,r.kt)("h2",{id:"functions"},"Functions"),(0,r.kt)("h3",{id:"destroy"},"destroy"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-lua"},"world:destroy()\n")),(0,r.kt)("code",null,"Server-Only")," ",(0,r.kt)("br",null),(0,r.kt)("p",null,"Destroys the world.\nOnly available in the game script environment."),(0,r.kt)("strong",null,"Arguments:")," ",(0,r.kt)("br",null),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("code",null,"world")," [",(0,r.kt)("strong",null," ",(0,r.kt)("a",{href:"/docs/Game-Script-Environment/Userdata/World"}," World ")," "),"]: The world.")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"getid"},"getId"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-lua"},"world:getId()\n")),(0,r.kt)("p",null,"Returns the world's id."),(0,r.kt)("strong",null,"Arguments:")," ",(0,r.kt)("br",null),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("code",null,"world")," [",(0,r.kt)("strong",null," ",(0,r.kt)("a",{href:"/docs/Game-Script-Environment/Userdata/World"}," World ")," "),"]: The world.")),(0,r.kt)("strong",null,"Returns:")," ",(0,r.kt)("br",null),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"[",(0,r.kt)("strong",null," int "),"]",": The id.")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"isindoor"},"isIndoor"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-lua"},"world:isIndoor()\n")),(0,r.kt)("p",null,"Returns whether the world is an indoor world."),(0,r.kt)("strong",null,"Arguments:")," ",(0,r.kt)("br",null),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("code",null,"world")," [",(0,r.kt)("strong",null," ",(0,r.kt)("a",{href:"/docs/Game-Script-Environment/Userdata/World"}," World ")," "),"]: The world.")),(0,r.kt)("strong",null,"Returns:")," ",(0,r.kt)("br",null),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"[",(0,r.kt)("strong",null," bool "),"]",": Whether the world is an indoor world or not.")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"loadcell"},"loadCell"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-lua"},"world:loadCell( x, y, player, callback, params, ref )\n")),(0,r.kt)("code",null,"Server-Only")," ",(0,r.kt)("br",null),(0,r.kt)("p",null,"Load a cell for player. ",(0,r.kt)("br",null),"\nThe cell will stay loaded until the player steps into the cell, ",(0,r.kt)("br",null),"\nor the cell is released with ",(0,r.kt)("code",null,"releaseCell")," (and no player is close enough to load the cell)."),(0,r.kt)("p",null,"The callback parameters are ( world, x, y, player, params, handle )"),(0,r.kt)("strong",null,"The callback receives:")," ",(0,r.kt)("br",null),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("code",null,"world")," [",(0,r.kt)("strong",null," ",(0,r.kt)("a",{href:"/docs/Game-Script-Environment/Userdata/World"}," World ")," "),"]: The world."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("code",null,"x")," [",(0,r.kt)("strong",null," int "),"]: The cell's X position."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("code",null,"y")," [",(0,r.kt)("strong",null," int "),"]: The cell's Y position."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("code",null,"player")," [",(0,r.kt)("strong",null," ",(0,r.kt)("a",{href:"/docs/Game-Script-Environment/Userdata/Player"}," Player ")," "),"]: The player that was loaded for."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("code",null,"params")," [",(0,r.kt)("strong",null," any "),"]: Params passed to ",(0,r.kt)("code",null,"loadCell"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("code",null,"handle")," [",(0,r.kt)("strong",null," ",(0,r.kt)("a",{href:"/docs/Game-Script-Environment/Userdata/LoadCellHandle"}," LoadCellHandle ")," "),"]: The cell's ",(0,r.kt)("code",null,"LoadCellHandle"),", for releasing the cell.")),(0,r.kt)("strong",null,"Arguments:")," ",(0,r.kt)("br",null),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("code",null,"world")," [",(0,r.kt)("strong",null," ",(0,r.kt)("a",{href:"/docs/Game-Script-Environment/Userdata/World"}," World ")," "),"]: The world."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("code",null,"x")," [",(0,r.kt)("strong",null," int "),"]: The cell's X position."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("code",null,"y")," [",(0,r.kt)("strong",null," int "),"]: The cell's Y position."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("code",null,"player")," [",(0,r.kt)("strong",null," ",(0,r.kt)("a",{href:"/docs/Game-Script-Environment/Userdata/Player"}," Player ")," "),"]: The player to load for. Optional."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("code",null,"callback")," [",(0,r.kt)("strong",null," string "),"]: The Lua function to call when the cell is loaded. Optional."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("code",null,"params")," [",(0,r.kt)("strong",null," any "),"]: A parameter object passed to the callback function. Optional."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("code",null,"ref")," [",(0,r.kt)("strong",null," ref "),"]: The ScriptRef for the callback object. Optional.")),(0,r.kt)("strong",null,"Returns:")," ",(0,r.kt)("br",null),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"[",(0,r.kt)("strong",null," int "),"]",": The handle to use when explicitly releasing the cell.")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"reloadcell"},"reloadCell"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-lua"},"world:reloadCell( x, y, callback, ref )\n")),(0,r.kt)("p",null,"Reloads a cell."),(0,r.kt)("strong",null,"The callback receives:")," ",(0,r.kt)("br",null),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("code",null,"world")," [",(0,r.kt)("strong",null," ",(0,r.kt)("a",{href:"/docs/Game-Script-Environment/Userdata/World"}," World ")," "),"]: The world."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("code",null,"x")," [",(0,r.kt)("strong",null," int "),"]: The cell's X position."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("code",null,"y")," [",(0,r.kt)("strong",null," int "),"]: The cell's Y position."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("code",null,"result")," [",(0,r.kt)("strong",null," int "),"]: The result. 0 = Not reloaded due to cell being inactive. 1 = Successfully reloaded.")),(0,r.kt)("strong",null,"Arguments:")," ",(0,r.kt)("br",null),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("code",null,"world")," [",(0,r.kt)("strong",null," ",(0,r.kt)("a",{href:"/docs/Game-Script-Environment/Userdata/World"}," World ")," "),"]: The world."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("code",null,"x")," [",(0,r.kt)("strong",null," int "),"]: The cell's X position."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("code",null,"y")," [",(0,r.kt)("strong",null," int "),"]: The cell's Y position."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("code",null,"callback")," [",(0,r.kt)("strong",null," string "),"]: The Lua function to call when the cell is reloaded. Optional."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("code",null,"ref")," [",(0,r.kt)("strong",null," ref "),"]: The ScriptRef for the callback object. Optional.")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"setterrainscriptdata"},"setTerrainScriptData"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-lua"},"world:setTerrainScriptData( data )\n")),(0,r.kt)("p",null,"Set data to pass on to the terrain generation script. ",(0,r.kt)("br",null),"\nIf no data is set, the terrain generation script receives the same data as the world script."),(0,r.kt)("strong",null,"Arguments:")," ",(0,r.kt)("br",null),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("code",null,"world")," [",(0,r.kt)("strong",null," ",(0,r.kt)("a",{href:"/docs/Game-Script-Environment/Userdata/World"}," World ")," "),"]: The world."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("code",null,"data")," [",(0,r.kt)("strong",null," any "),"]: Any data, available in the terrain script as parameter 6 in the create callback.")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"terrainspheremodification"},"terrainSphereModification"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-lua"},"world:terrainSphereModification( position, radius, strength )\n")),(0,r.kt)("p",null,"Modifies destructable terrain with a sphere shape."),(0,r.kt)("strong",null,"Arguments:")," ",(0,r.kt)("br",null),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("code",null,"world")," [",(0,r.kt)("strong",null," ",(0,r.kt)("a",{href:"/docs/Game-Script-Environment/Userdata/World"}," World ")," "),"]: The world."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("code",null,"position")," [",(0,r.kt)("strong",null," ",(0,r.kt)("a",{href:"/docs/Game-Script-Environment/Userdata/Vec3"}," Vec3 ")," "),"]: The world position of the sphere."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("code",null,"radius")," [",(0,r.kt)("strong",null," number "),"]: The radius of the sphere."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("code",null,"strength")," [",(0,r.kt)("strong",null," number "),"]: The strength of the modification (Optional).")),(0,r.kt)("hr",null))}k.isMDXComponent=!0}}]);