"use strict";(self.webpackChunksm_docs=self.webpackChunksm_docs||[]).push([[6153],{1039:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>i,default:()=>h,frontMatter:()=>t,metadata:()=>o,toc:()=>d});var r=s(5893),l=s(1151);const t={sidebar_position:3,title:"ToolClass",hide_title:!0,"sidebar-label":"ToolClass"},i=void 0,o={id:"Game-Script-Environment/Classes/ToolClass",title:"ToolClass",description:"ToolClass",source:"@site/docs/Game-Script-Environment/Classes/ToolClass.md",sourceDirName:"Game-Script-Environment/Classes",slug:"/Game-Script-Environment/Classes/ToolClass",permalink:"/docs/Game-Script-Environment/Classes/ToolClass",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3,title:"ToolClass",hide_title:!0,"sidebar-label":"ToolClass"},sidebar:"tutorialSidebar",previous:{title:"ShapeClass",permalink:"/docs/Game-Script-Environment/Classes/ShapeClass"},next:{title:"CharacterClass",permalink:"/docs/Game-Script-Environment/Classes/CharacterClass"}},a={},d=[{value:"ToolClass",id:"toolclass",level:3},{value:"Client-only",id:"client-only",level:2},{value:"onEquip",id:"onequip",level:3},{value:"onUnequip",id:"onunequip",level:3},{value:"onEquippedUpdate",id:"onequippedupdate",level:3},{value:"onToggle",id:"ontoggle",level:3},{value:"onReload",id:"onreload",level:3},{value:"canEquip",id:"canequip",level:3}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("br",{}),"\n",(0,r.jsx)(n.h3,{id:"toolclass",children:"ToolClass"}),"\n",(0,r.jsxs)(n.p,{children:["A script class that is instanced for every active ",(0,r.jsx)(n.a,{href:"/docs/Game-Script-Environment/Userdata/Tool",children:"Tool"})," in the game."]}),"\n",(0,r.jsxs)(n.p,{children:["A tool is something that a ",(0,r.jsx)(n.a,{href:"/docs/Game-Script-Environment/Userdata/Player",children:"Player"})," can equip by selecting it in the hotbar, for example the Sledgehammer."]}),"\n",(0,r.jsxs)(n.p,{children:["The class can receive events sent with ",(0,r.jsx)(n.a,{href:"/docs/Game-Script-Environment/Static-Functions/sm.event#sendtotool",children:"sm.event.sendToTool"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["The fields below are accessed using ",(0,r.jsx)("code",{children:"self.fieldName"})," in the ToolClass script:"]}),"\n",(0,r.jsx)("strong",{children:"Fields:"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Name"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"/docs/Game-Script-Environment/Userdata/Tool",children:"Tool"})}),(0,r.jsx)(n.td,{children:"tool"}),(0,r.jsxs)(n.td,{children:["The ",(0,r.jsx)(n.a,{href:"/docs/Game-Script-Environment/Userdata/Tool",children:"Tool"})," game object belonging to this class instance."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"/docs/Game-Script-Environment/Userdata/Network",children:"Network"})}),(0,r.jsx)(n.td,{children:"network"}),(0,r.jsxs)(n.td,{children:["A ",(0,r.jsx)(n.a,{href:"/docs/Game-Script-Environment/Userdata/Network",children:"Network"})," object that can be used to send data between client and server."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"/docs/Game-Script-Environment/Userdata/Storage",children:"Storage"})}),(0,r.jsx)(n.td,{children:"storage"}),(0,r.jsxs)(n.td,{children:["A server-side ",(0,r.jsx)(n.a,{href:"/docs/Game-Script-Environment/Userdata/Storage",children:"Storage"})," object that can be used to save and load data to/from the world database."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"data"}),(0,r.jsxs)(n.td,{children:["Data from the ",(0,r.jsx)("code",{children:"data"})," entry in the tool's JSON file entry."]})]})]})]}),"\n",(0,r.jsx)("strong",{children:"Callbacks:"}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsx)(n.h2,{id:"client-only",children:"Client-only"}),"\n",(0,r.jsx)(n.h3,{id:"onequip",children:"onEquip"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function ToolClass.client_onEquip( self, animate )\r\nend\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Called when the a ",(0,r.jsx)(n.a,{href:"/docs/Game-Script-Environment/Userdata/Player",children:"Player"})," equips the ",(0,r.jsx)(n.a,{href:"/docs/Game-Script-Environment/Userdata/Tool",children:"Tool"}),"."]}),"\n",(0,r.jsx)("strong",{children:"Arguments:"}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)("code",{children:"self"})," [",(0,r.jsx)("strong",{children:" table "}),"]: The class instance."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)("code",{children:"animate"})," [",(0,r.jsx)("strong",{children:" bool "}),"]: A boolean indicating whether the event should be animated or not."]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"onunequip",children:"onUnequip"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function ToolClass.client_onUnequip( self, animate )\r\nend\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Called when the a ",(0,r.jsx)(n.a,{href:"/docs/Game-Script-Environment/Userdata/Player",children:"Player"})," unequips the ",(0,r.jsx)(n.a,{href:"/docs/Game-Script-Environment/Userdata/Tool",children:"Tool"}),"."]}),"\n",(0,r.jsx)("strong",{children:"Arguments:"}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)("code",{children:"self"})," [",(0,r.jsx)("strong",{children:" table "}),"]: The class instance."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)("code",{children:"animate"})," [",(0,r.jsx)("strong",{children:" bool "}),"]: A boolean indicating whether the event should be animated or not."]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"onequippedupdate",children:"onEquippedUpdate"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function ToolClass.client_onEquippedUpdate( self, primaryState, secondaryState, forceBuild )\r\n\treturn true, true --first boolean blocks other primary actions, second boolean blocks other secondary actions\r\nend\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Called every frame for the currently equipped ",(0,r.jsx)(n.a,{href:"/docs/Game-Script-Environment/Userdata/Tool",children:"Tool"}),"."]}),"\n",(0,r.jsxs)(n.admonition,{title:"note",type:"info",children:[(0,r.jsx)(n.p,{children:"Swinging the sledgehammer is a typical example where you want to block other primary input."}),(0,r.jsx)(n.p,{children:"Force building is an example where the primary input action is not blocked."}),(0,r.jsx)(n.p,{children:"Not blocking secondary input allows shape removal while the tool is equipped."})]}),"\n",(0,r.jsxs)(n.p,{children:["See ",(0,r.jsx)(n.a,{href:"/docs/Game-Script-Environment/Constants#smtoolinteractstate",children:"sm.tool.interactState"})," for details about the primary and secondary state."]}),"\n",(0,r.jsx)("strong",{children:"Arguments:"}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)("code",{children:"self"})," [",(0,r.jsx)("strong",{children:" table "}),"]: The class instance."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)("code",{children:"primaryState"})," [",(0,r.jsx)("strong",{children:" int "}),"]: The interact state of the primary (left) mouse button."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)("code",{children:"secondaryState"})," [",(0,r.jsx)("strong",{children:" int "}),"]: The interact state of the secondary (right) mouse button."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)("code",{children:"forceBuild"})," [",(0,r.jsx)("strong",{children:" bool "}),"]: The interact state of the ",(0,r.jsx)("code",{children:"Force Build"})," key (default ",(0,r.jsx)("code",{children:"F"}),")."]}),"\n"]}),"\n",(0,r.jsx)("strong",{children:"Returns:"}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["[",(0,r.jsx)("strong",{children:" bool "}),"]: A boolean indicating whether other primary actions should be blocked (defaults to false)."]}),"\n",(0,r.jsxs)(n.li,{children:["[",(0,r.jsx)("strong",{children:" bool "}),"]: A boolean indicating whether other secondary actions should be blocked (defaults to false)."]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"ontoggle",children:"onToggle"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function ToolClass.client_onToggle( self )\r\n\treturn true --true or false, default false\r\nend\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Called when the ",(0,r.jsx)(n.a,{href:"/docs/Game-Script-Environment/Userdata/Player",children:"Player"})," presses a toggle key with the ",(0,r.jsx)(n.a,{href:"/docs/Game-Script-Environment/Userdata/Tool",children:"Tool"})," equipped (default ",(0,r.jsx)("code",{children:"Q"})," and ",(0,r.jsx)("code",{children:"Shift + Q"}),")."]}),"\n",(0,r.jsx)("strong",{children:"Arguments:"}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)("code",{children:"self"})," [",(0,r.jsx)("strong",{children:" table "}),"]: The class instance."]}),"\n"]}),"\n",(0,r.jsx)("strong",{children:"Returns:"}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["[",(0,r.jsx)("strong",{children:" bool "}),"]: A boolean that indicates if other toggle actions should be blocked (rotating shapes). Defaults to false."]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"onreload",children:"onReload"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function ToolClass.client_onReload( self )\r\n\treturn true --true or false, default false\r\nend\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Called when the ",(0,r.jsx)(n.a,{href:"/docs/Game-Script-Environment/Userdata/Player",children:"Player"})," presses the ",(0,r.jsx)("code",{children:"Reload"})," key with the ",(0,r.jsx)(n.a,{href:"/docs/Game-Script-Environment/Userdata/Tool",children:"Tool"})," equipped (default ",(0,r.jsx)("code",{children:"R"}),")."]}),"\n",(0,r.jsx)("strong",{children:"Arguments:"}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)("code",{children:"self"})," [",(0,r.jsx)("strong",{children:" table "}),"]: The class instance."]}),"\n"]}),"\n",(0,r.jsx)("strong",{children:"Returns:"}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["[",(0,r.jsx)("strong",{children:" bool "}),"]: A boolean that indicates if other reload actions should be blocked (",(0,r.jsx)("code",{children:"PlayerClass.client_onReload"}),"). Defaults to false."]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"canequip",children:"canEquip"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function ToolClass.client_canEquip( self )\r\n\treturn true --true or false, default false\r\nend\n"})}),"\n",(0,r.jsxs)(n.p,{children:["This event is called to check whether the ",(0,r.jsx)(n.a,{href:"/docs/Game-Script-Environment/Userdata/Tool",children:"Tool"})," can be equipped."]}),"\n",(0,r.jsx)("strong",{children:"Arguments:"}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)("code",{children:"self"})," [",(0,r.jsx)("strong",{children:" table "}),"]: The class instance."]}),"\n"]}),"\n",(0,r.jsx)("strong",{children:"Returns:"}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["[",(0,r.jsx)("strong",{children:" bool "}),"]: A boolean that indicates if the ",(0,r.jsx)(n.a,{href:"/docs/Game-Script-Environment/Userdata/Tool",children:"Tool"})," can be equipped. Defaults to true."]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{})]})}function h(e={}){const{wrapper:n}={...(0,l.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},1151:(e,n,s)=>{s.d(n,{Z:()=>o,a:()=>i});var r=s(7294);const l={},t=r.createContext(l);function i(e){const n=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:i(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);