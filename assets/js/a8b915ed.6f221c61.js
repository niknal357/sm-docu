"use strict";(self.webpackChunksm_docs=self.webpackChunksm_docs||[]).push([[2577],{8011:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>t,contentTitle:()=>d,default:()=>h,frontMatter:()=>i,metadata:()=>c,toc:()=>o});var s=r(5893),l=r(1151);const i={sidebar_position:31,title:"World",hide_title:!0,"sidebar-label":"World"},d=void 0,c={id:"Game-Script-Environment/Userdata/World",title:"World",description:"World",source:"@site/docs/Game-Script-Environment/Userdata/World.md",sourceDirName:"Game-Script-Environment/Userdata",slug:"/Game-Script-Environment/Userdata/World",permalink:"/docs/Game-Script-Environment/Userdata/World",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:31,frontMatter:{sidebar_position:31,title:"World",hide_title:!0,"sidebar-label":"World"},sidebar:"tutorialSidebar",previous:{title:"Widget",permalink:"/docs/Game-Script-Environment/Userdata/Widget"},next:{title:"Global",permalink:"/docs/Game-Script-Environment/Static-Functions/Global"}},t={},o=[{value:"World",id:"world",level:2},{value:"Functions",id:"functions",level:2},{value:"destroy",id:"destroy",level:3},{value:"getId",id:"getid",level:3},{value:"isIndoor",id:"isindoor",level:3},{value:"loadCell",id:"loadcell",level:3},{value:"reloadCell",id:"reloadcell",level:3},{value:"setTerrainScriptData",id:"setterrainscriptdata",level:3},{value:"terrainSphereModification",id:"terrainspheremodification",level:3}];function a(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("br",{}),"\n",(0,s.jsx)(n.h2,{id:"world",children:"World"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Associated namespace:"})," ",(0,s.jsx)(n.a,{href:"/docs/Game-Script-Environment/Static-Functions/sm.world",children:"sm.world"})]}),"\n",(0,s.jsxs)(n.p,{children:["A userdata object representing a ",(0,s.jsx)("strong",{children:"world"})," in the game."]}),"\n",(0,s.jsx)("strong",{children:"Operations:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Operation"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{children:[(0,s.jsx)("code",{children:"World"})," == ",(0,s.jsx)("code",{children:"World"})]}),(0,s.jsxs)(n.td,{children:["Checks if two instances of ",(0,s.jsx)("code",{children:"World"})," refer to the same ",(0,s.jsx)("code",{children:"World"}),"."]})]})})]}),"\n",(0,s.jsx)("strong",{children:"Values:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)("code",{children:"id"})," [",(0,s.jsx)("strong",{children:" int "}),"] ",(0,s.jsx)("br",{})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)("code",{children:"Get"}),": The world's id."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"functions",children:"Functions"}),"\n",(0,s.jsx)(n.h3,{id:"destroy",children:"destroy"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"world:destroy()\n"})}),"\n",(0,s.jsx)("code",{children:"Server-Only"}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsx)(n.p,{children:"Destroys the world.\r\nOnly available in the game script environment."}),"\n",(0,s.jsx)("strong",{children:"Arguments:"}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)("code",{children:"world"})," [",(0,s.jsxs)("strong",{children:[" ",(0,s.jsx)("a",{href:"/docs/Game-Script-Environment/Userdata/World",children:" World "})," "]}),"]: The world."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"getid",children:"getId"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"world:getId()\n"})}),"\n",(0,s.jsx)(n.p,{children:"Returns the world's id."}),"\n",(0,s.jsx)("strong",{children:"Arguments:"}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)("code",{children:"world"})," [",(0,s.jsxs)("strong",{children:[" ",(0,s.jsx)("a",{href:"/docs/Game-Script-Environment/Userdata/World",children:" World "})," "]}),"]: The world."]}),"\n"]}),"\n",(0,s.jsx)("strong",{children:"Returns:"}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["[",(0,s.jsx)("strong",{children:" int "}),"]: The id."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"isindoor",children:"isIndoor"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"world:isIndoor()\n"})}),"\n",(0,s.jsx)(n.p,{children:"Returns whether the world is an indoor world."}),"\n",(0,s.jsx)("strong",{children:"Arguments:"}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)("code",{children:"world"})," [",(0,s.jsxs)("strong",{children:[" ",(0,s.jsx)("a",{href:"/docs/Game-Script-Environment/Userdata/World",children:" World "})," "]}),"]: The world."]}),"\n"]}),"\n",(0,s.jsx)("strong",{children:"Returns:"}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["[",(0,s.jsx)("strong",{children:" bool "}),"]: Whether the world is an indoor world or not."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"loadcell",children:"loadCell"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"world:loadCell( x, y, player, callback, params, ref )\n"})}),"\n",(0,s.jsx)("code",{children:"Server-Only"}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsxs)(n.p,{children:["Load a cell for player. ",(0,s.jsx)("br",{}),"\r\nThe cell will stay loaded until the player steps into the cell, ",(0,s.jsx)("br",{}),"\r\nor the cell is released with ",(0,s.jsx)("code",{children:"releaseCell"})," (and no player is close enough to load the cell)."]}),"\n",(0,s.jsx)(n.p,{children:"The callback parameters are ( world, x, y, player, params, handle )"}),"\n",(0,s.jsx)("strong",{children:"The callback receives:"}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)("code",{children:"world"})," [",(0,s.jsxs)("strong",{children:[" ",(0,s.jsx)("a",{href:"/docs/Game-Script-Environment/Userdata/World",children:" World "})," "]}),"]: The world."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)("code",{children:"x"})," [",(0,s.jsx)("strong",{children:" int "}),"]: The cell's X position."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)("code",{children:"y"})," [",(0,s.jsx)("strong",{children:" int "}),"]: The cell's Y position."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)("code",{children:"player"})," [",(0,s.jsxs)("strong",{children:[" ",(0,s.jsx)("a",{href:"/docs/Game-Script-Environment/Userdata/Player",children:" Player "})," "]}),"]: The player that was loaded for."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)("code",{children:"params"})," [",(0,s.jsx)("strong",{children:" any "}),"]: Params passed to ",(0,s.jsx)("code",{children:"loadCell"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)("code",{children:"handle"})," [",(0,s.jsxs)("strong",{children:[" ",(0,s.jsx)("a",{href:"/docs/Game-Script-Environment/Userdata/LoadCellHandle",children:" LoadCellHandle "})," "]}),"]: The cell's ",(0,s.jsx)("code",{children:"LoadCellHandle"}),", for releasing the cell."]}),"\n"]}),"\n",(0,s.jsx)("strong",{children:"Arguments:"}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)("code",{children:"world"})," [",(0,s.jsxs)("strong",{children:[" ",(0,s.jsx)("a",{href:"/docs/Game-Script-Environment/Userdata/World",children:" World "})," "]}),"]: The world."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)("code",{children:"x"})," [",(0,s.jsx)("strong",{children:" int "}),"]: The cell's X position."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)("code",{children:"y"})," [",(0,s.jsx)("strong",{children:" int "}),"]: The cell's Y position."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)("code",{children:"player"})," [",(0,s.jsxs)("strong",{children:[" ",(0,s.jsx)("a",{href:"/docs/Game-Script-Environment/Userdata/Player",children:" Player "})," "]}),"]: The player to load for. Optional."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)("code",{children:"callback"})," [",(0,s.jsx)("strong",{children:" string "}),"]: The Lua function to call when the cell is loaded. Optional."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)("code",{children:"params"})," [",(0,s.jsx)("strong",{children:" any "}),"]: A parameter object passed to the callback function. Optional."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)("code",{children:"ref"})," [",(0,s.jsx)("strong",{children:" ref "}),"]: The ScriptRef for the callback object. Optional."]}),"\n"]}),"\n",(0,s.jsx)("strong",{children:"Returns:"}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["[",(0,s.jsx)("strong",{children:" int "}),"]: The handle to use when explicitly releasing the cell."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"reloadcell",children:"reloadCell"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"world:reloadCell( x, y, callback, ref )\n"})}),"\n",(0,s.jsx)(n.p,{children:"Reloads a cell."}),"\n",(0,s.jsx)("strong",{children:"The callback receives:"}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)("code",{children:"world"})," [",(0,s.jsxs)("strong",{children:[" ",(0,s.jsx)("a",{href:"/docs/Game-Script-Environment/Userdata/World",children:" World "})," "]}),"]: The world."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)("code",{children:"x"})," [",(0,s.jsx)("strong",{children:" int "}),"]: The cell's X position."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)("code",{children:"y"})," [",(0,s.jsx)("strong",{children:" int "}),"]: The cell's Y position."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)("code",{children:"result"})," [",(0,s.jsx)("strong",{children:" int "}),"]: The result. 0 = Not reloaded due to cell being inactive. 1 = Successfully reloaded."]}),"\n"]}),"\n",(0,s.jsx)("strong",{children:"Arguments:"}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)("code",{children:"world"})," [",(0,s.jsxs)("strong",{children:[" ",(0,s.jsx)("a",{href:"/docs/Game-Script-Environment/Userdata/World",children:" World "})," "]}),"]: The world."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)("code",{children:"x"})," [",(0,s.jsx)("strong",{children:" int "}),"]: The cell's X position."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)("code",{children:"y"})," [",(0,s.jsx)("strong",{children:" int "}),"]: The cell's Y position."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)("code",{children:"callback"})," [",(0,s.jsx)("strong",{children:" string "}),"]: The Lua function to call when the cell is reloaded. Optional."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)("code",{children:"ref"})," [",(0,s.jsx)("strong",{children:" ref "}),"]: The ScriptRef for the callback object. Optional."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"setterrainscriptdata",children:"setTerrainScriptData"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"world:setTerrainScriptData( data )\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Set data to pass on to the terrain generation script. ",(0,s.jsx)("br",{}),"\r\nIf no data is set, the terrain generation script receives the same data as the world script."]}),"\n",(0,s.jsx)("strong",{children:"Arguments:"}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)("code",{children:"world"})," [",(0,s.jsxs)("strong",{children:[" ",(0,s.jsx)("a",{href:"/docs/Game-Script-Environment/Userdata/World",children:" World "})," "]}),"]: The world."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)("code",{children:"data"})," [",(0,s.jsx)("strong",{children:" any "}),"]: Any data, available in the terrain script as parameter 6 in the create callback."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"terrainspheremodification",children:"terrainSphereModification"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"world:terrainSphereModification( position, radius, strength )\n"})}),"\n",(0,s.jsx)(n.p,{children:"Modifies destructable terrain with a sphere shape."}),"\n",(0,s.jsx)("strong",{children:"Arguments:"}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)("code",{children:"world"})," [",(0,s.jsxs)("strong",{children:[" ",(0,s.jsx)("a",{href:"/docs/Game-Script-Environment/Userdata/World",children:" World "})," "]}),"]: The world."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)("code",{children:"position"})," [",(0,s.jsxs)("strong",{children:[" ",(0,s.jsx)("a",{href:"/docs/Game-Script-Environment/Userdata/Vec3",children:" Vec3 "})," "]}),"]: The world position of the sphere."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)("code",{children:"radius"})," [",(0,s.jsx)("strong",{children:" number "}),"]: The radius of the sphere."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)("code",{children:"strength"})," [",(0,s.jsx)("strong",{children:" number "}),"]: The strength of the modification (Optional)."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{})]})}function h(e={}){const{wrapper:n}={...(0,l.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},1151:(e,n,r)=>{r.d(n,{Z:()=>c,a:()=>d});var s=r(7294);const l={},i=s.createContext(l);function d(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:d(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);